{
  "resources": {
    "body": [
      {
        "type": "style",
        "src": "./build/app.css"
      },
      {
        "type": "script",
        "src": "./build/app.js"
      }
    ]
  },
  "preview": {
    "handlers": [
      {
        "options": ["_default"],
        "execute": "INSTALL_SCOPE.setOptions(INSTALL_OPTIONS)"
      },
      {
        "options": ["theme"],
        "execute": "INSTALL_SCOPE.setTheme(INSTALL_OPTIONS)"
      }
    ]
  },
  "options": {
    "properties": {
      "message": {
        "title": "Message",
        "type": "string",
        "format": "textarea",
        "order": 0,
        "placeholder": "We just launched an amazing new product!"
      },

      "cta": {
        "order": 1,
        "title": "Action Button",
        "type": "object",
        "properties": {
          "show": {
            "order": 0,
            "title": "Show action button",
            "type": "boolean",
            "default": true
          },

          "label": {
            "showIf": "cta.show",
            "order": 1,
            "title": "Label",
            "type": "string",
            "placeholder": "More info"
          },

          "url": {
            "showIf": "cta.show",
            "order": 2,
            "title": "URL to drive traffic to",
            "type": "string",
            "format": "url"
          },

          "newWindow": {
            "showIf": "cta.show",
            "order": 3,
            "title": "Open URL in new window",
            "type": "boolean"
          }
        }
      },

      "behavior": {
        "order": 3,
        "title": "Dismissal Behavior",
        "type": "object",
        "properties": {
          "showCloseButton": {
            "order": 0,
            "title": "Show close button",
            "type": "boolean",
            "default": true
          },

          "automaticallyHide": {
            "order": 2,
            "title": "Automatically dismiss after a few seconds",
            "type": "boolean",
            "default": false
          }
        }
      },

      "theme": {
        "title": "Theme",
        "type": "object",
        "order": 4,
        "properties": {
          "style": {
            "order": 0,
            "title": "Style",
            "type": "string",
            "format": "radios",
            "default": "prominent",
            "enum": [
              "slim",
              "prominent"
            ],
            "enumNames": {
              "slim": "Slim",
              "prominent": "Prominent"
            }
          },

          "backgroundColor": {
            "title": "Welcome Bar background color",
            "type": "string",
            "format": "color",
            "order": 1,
            "default": "#0099ff"
          },

          "textColor": {
            "title": "Message text color",
            "type": "string",
            "format": "color",
            "order": 2,
            "default": "#ffffff"
          },

          "buttonColorHelp": {
            "showIf": {
              "theme.style": "prominent"
            },
            "order": 3,
            "type": "help",
            "helpvalue": "<strong>Note:</strong> Buttons will appear as text in the <strong>Message text color</strong> on mobile devices."
          },

          "buttonBackgroundColor": {
            "showIf": {
              "theme.style": "prominent"
            },
            "title": "Button background color",
            "type": "string",
            "format": "color",
            "order": 4,
            "default": "#ffffff"
          },

          "buttonTextColorStrategy": {
            "showIf": {
              "theme.style": "prominent"
            },
            "order": 5,
            "default": "auto",
            "title": "Button text color",
            "type": "string",
            "format": "radios",
            "enum": [
              "auto",
              "custom"
            ],
            "enumNames": {
              "auto": "Match the Welcome Bar background",
              "custom": "Custom"
            }
          },

          "buttonTextColor": {
            "showIf": {
              "theme.style": "prominent",
              "theme.buttonTextColorStrategy": "custom"
            },
            "notitle": true,
            "type": "string",
            "format": "color",
            "order": 6,
            "default": "#0099ff"
          }
        }
      }
    }
  }
}
